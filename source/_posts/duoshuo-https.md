---
title: 本站重启多说评论支持HTTPS头像&表情
banner: 'https://obbuo9upd.qnssl.com/201608211734.jpg?imageMogr2/format/webp'
abbrlink: e171392a
date: 2016-08-21 17:36:32
---
经过了半个月的“怠惰”终于重新开启评论啦~
主要是解决了多说头像和表情支持https的问题
<!--more-->

# Icarus

刚刚逛Github的时候，发现主题推送了V0.3.0的更新

![](https://obbuo9upd.qnssl.com/20160821170058.png?imageMogr2/format/webp)

本着更新总是有好处的原则，我开始准备更新
这个过程...着实有点low==

因为我在原主题的基础上做了一些个性化的修改，所以必须一个个文件对照修改。
另外由于IDE不支持文件夹上传，还得手动新建文件夹再上传文件
不管怎样，终究是弄好啦

能够明显感觉到变化的就是图片插件更换了...变成了全屏查看，还多了很多操作按钮

![](https://obbuo9upd.qnssl.com/20160821170705.png?imageMogr2/format/webp)

大家可以体验一下哦

# 多说评论

在上一篇文章中，提到了全站https化的过程中，多说评论使用遇到了一些问题。
今天就顺便一起解决了，主要有两点：
- 评论区不显示；不知道哪里被我折腾坏了，好在主题更新后解决了
-  多说表情和头像不支持https；

由于没有nginx反代的支持，我只能通过七牛来想办法
搜索了一下，提到了一种方法如下：

> 首先需要4个七牛云存储的空间，接着依次设置百度、新浪等镜像源，再修改本地引用地址......

貌似还需要绑定自定义域名，这就意味着要备案
我觉得实际操作下来，比较繁琐

然后我想起逛Github时曾经看见了一个项目

![](https://obbuo9upd.qnssl.com/20160821171838.png?imageMogr2/format/webp)

当时还不知道的怎么用...现在结合上面的教程就懂了
作者已经帮我们省掉了前面的步骤，直接引用他提供的多说文件地址就行！

哈哈，感觉是一步登天了

找到`icarus\layout\comment\duoshuo.ejs`文件
替换

```
static.duoshuo.com/embed.js
```
为

```
dn-hb0716.qbox.me/duoshuo.js
```
即可,当然七牛空间都是有限额的，大家也别滥用了咳咳

现在当你使用第三方账号登录本站评论的时候，头像地址会自动替换
如：

![](https://obbuo9upd.qnssl.com/20160821172725.png?imageMogr2/format/webp)

表情也可以随便使用啦

![](https://obbuo9upd.qnssl.com/20160821172907.png?imageMogr2/format/webp)

我认为是比较简单完美的解决方案，有需求的可以试试
希望这个项目别出问题~~~~

# 感想

当你对一件事无计可施的时候，或许可以停下来，暂时忘记它
过一段时间再来看看，也许很容易就解决了！

各位朋友们，评论走起来！！！