"use strict";

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

/**
* Helper functions for post thumbnail.
*
* @example
*     <%- has_thumbnail(post) %>
*     <%- get_thumbnail(post) %>
*/
module.exports = function (hexo) {
  hexo.extend.helper.register('has_thumbnail', function (post) {
    var article = this.config.article;

    if (_typeof(post) !== 'object') {
      return false;
    }

    if (article && article.thumbnail === false) {
      return false;
    }

    return 'thumbnail' in post && post.thumbnail;
  });
  hexo.extend.helper.register('get_thumbnail', function (post) {
    var _this$helper = this.helper,
        url_for = _this$helper.url_for,
        has_thumbnail = _this$helper.has_thumbnail;
    return url_for(has_thumbnail.call(this, post) ? post.thumbnail : '/img/thumbnail.svg');
  });
};